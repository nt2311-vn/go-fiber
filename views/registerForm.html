<div class="flex justify-center items-center h-screen bg-100">
  <div class="card w-full max-w-md shadow-2xl bg-base-300 rounded-lg">
    <div class="card-body p-8">
      <h2 class="text-2xl font-bold text-center mb-8">Create a New Account</h2>
      <form
        hx-post="/register"
        hx-trigger="submit delay:1s"
        hx-indicator="#spinner"
        hx-target="#register-error"
        hx-swap="innerHTML"
        hx-on="htmx:beforeRequest: if (document.querySelector('#email-error').innerHTML || document.querySelector('#password-error').innerHTML || document.querySelector('#confirm-password-error').innerHTML) { event.preventDefault(); }"
      >
        <div class="mb-4" hx-target="#email-error" hx-swap="innerHTML">
          <label for="email" class="block text-sm font-medium">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            placeholder="Enter your email here:"
            class="input input-bordered w-full"
            hx-post="/validate-field?field=email"
            hx-trigger="blur"
            hx-target="#email-error"
            hx-swap="innerHTML"
          />
          <div
            id="email-error"
            class="text-xs text-red-500 dark:text-red-100"
          ></div>
        </div>
        <div class="mb-6">
          <label for="password" class="block text-sm font-medium"
            >Password</label
          >
          <input
            type="password"
            id="password"
            name="password"
            required
            class="input input-bordered w-full"
            hx-post="/validate-field?field=password"
            hx-trigger="blur"
            hx-target="#password-error"
            hx-swap="innerHTML"
          />
          <div
            id="password-error"
            class="text-xs text-red-500 dark:text-red-100"
          ></div>
        </div>
        <div class="mb-6">
          <label for="confirm-password" class="block text-sm font-medium"
            >Confirm Password</label
          >
          <input
            type="password"
            id="confirm-password"
            name="confirm-password"
            required
            class="input input-bordered w-full"
            hx-post="/validate-field?field=confirm-password"
            hx-trigger="blur"
            hx-target="#confirm-password-error"
            hx-swap="innerHTML"
          />
          <div
            id="confirm-password-error"
            class="text-xs text-red-500 dark:text-red-100"
          ></div>
        </div>
        <div
          id="register-error"
          class="mb-6 bg-red-500 dark:bg-red-900 text-white text-center border-none rounded-md font-medium"
        ></div>
        <button type="submit" class="btn btn-primary w-full">
          Register
          <img
            id="spinner"
            class="htmx-indicator animate-spin size-5 ml-2"
            src="/static/icon/spinner.svg"
            alt="spinner img"
          />
        </button>
      </form>
      <div class="text-center mt-4">
        <p>
          Already have an account?
          <a
            href="/login"
            class="text-blue-500 dark:text-blue-100 hover:underline"
            >Login</a
          >
        </p>
      </div>
    </div>
  </div>
</div>
